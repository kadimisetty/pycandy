<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
	<channel>
		<title>pycandy</title>
		<description>Python flavored screencasts for impatient developers</description>
		<link>http://pycandy.com</link>
		<atom:link href="http://pycandy.com/feed.xml" rel="self" type="application/rss+xml" />
		
			<item>
				<title>Encoding Specifiers and Magical Mode Lines</title>
				<description>&lt;!-- Encoding Specifiers and Magical Mode Lines --&gt;&lt;iframe frameborder='0' height='370' src='http://player.vimeo.com/video/69685215?title=0&amp;amp;byline=0&amp;amp;portrait=0&amp;amp;color=4a8ac2' width='500'&gt; &lt;/iframe&gt;
&lt;h2 id='ways_python_infers_encoding'&gt;Ways Python infers encoding&lt;/h2&gt;

&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Default Encodings&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Python 2.3+ uses 7-bit ASCII&lt;/li&gt;

&lt;li&gt;Python 3+ uses UTF-8&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;

&lt;li&gt;
&lt;p&gt;Magic Line / Encoding Specifiers&lt;/p&gt;
&lt;/li&gt;

&lt;li&gt;
&lt;p&gt;Using a BOM&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id='the_magic_line_or_encoding_specifier_should'&gt;The &amp;#8220;Magic Line&amp;#8221; or Encoding Specifier should&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;match the regular expression &lt;code&gt;coding[:=]\s*([-\w.]+)&lt;/code&gt;&lt;/li&gt;

&lt;li&gt;use encodings &lt;a href='http://docs.python.org/3.3/library/codecs.html#standard-encodings'&gt;supported by python&lt;/a&gt;&lt;/li&gt;

&lt;li&gt;not have other statement in the same line&lt;/li&gt;

&lt;li&gt;be listed in the first two lines&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id='pattern'&gt;Pattern&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;coding=&amp;lt;encoding&amp;gt;
# coding=utf-8&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;The regular expression:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;coding[:=]\s*([-\w.]+)&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Vim style modelines:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;vim: set fileencoding=&amp;lt;encoding&amp;gt;:
# vim: set fileencoding=utf-8:&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Emacs style &amp;#8220;modelines&amp;#8221;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;-*- coding: &amp;lt;encoding&amp;gt; -*-
# -*- coding: latin-1 -*-&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id='templates_in_vim'&gt;Templates in Vim&lt;/h2&gt;

&lt;p&gt;Intialise files with known file formats with starter templates located in &lt;code&gt;~/.vim/templates/&lt;/code&gt; autocmd BufNewFile * silent! 0r ~/.vim/templates/template.%:e&lt;/p&gt;

&lt;p&gt;Contents of &lt;code&gt;template.py&lt;/code&gt; located in the starter template directory.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;#!/usr/bin/env python
# vim: set fileencoding=utf-8:

def main():
    pass

if __name__ == &amp;#39;__main__&amp;#39;:
    main()&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id='excerpt_from_the_pragmatic_unicode_talk'&gt;Excerpt from the &lt;a href='http://nedbatchelder.com/text/unipain.html'&gt;Pragmatic Unicode Talk&lt;/a&gt;&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;You cannot infer the encoding of &lt;em&gt;bytes&lt;/em&gt;.&lt;/li&gt;

&lt;li&gt;Declared Encodings might be wrong.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id='relevant_documentation'&gt;Relevant Documentation&lt;/h2&gt;

&lt;h3 id='python'&gt;Python&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href='http://docs.python.org/3/howto/unicode.html'&gt;Python UNICODE howto&lt;/a&gt;&lt;/li&gt;

&lt;li&gt;&lt;a href='http://docs.python.org/2.7/reference/lexical_analysis.html#lexical-analysis'&gt;2.7 Lexical analysis - 7-bit ASCII&lt;/a&gt;&lt;/li&gt;

&lt;li&gt;&lt;a href='http://docs.python.org/3.3/reference/lexical_analysis.html#lexical-analysis'&gt;3.3 Lexical analysis - UTF-8&lt;/a&gt;&lt;/li&gt;

&lt;li&gt;&lt;a href='http://docs.python.org/3.3/library/codecs.html#standard-encodings'&gt;3.3 - Standard Encodings&lt;/a&gt;&lt;/li&gt;

&lt;li&gt;&lt;a href='http://docs.python.org/3.3/reference/lexical_analysis.html#encoding-declarations'&gt;3.3 Encoding declarations&lt;/a&gt;&lt;/li&gt;

&lt;li&gt;&lt;a href='http://docs.python.org/release/3.0.1/whatsnew/3.0.html#text-vs-data-instead-of-unicode-vs-8-bit'&gt;Text Vs. Data Instead Of Unicode Vs. 8-bit&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id='peps'&gt;PEPs&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href='http://www.python.org/dev/peps/pep-0263/'&gt;0263 - Defining Python Source Code Encodings&lt;/a&gt;&lt;/li&gt;

&lt;li&gt;&lt;a href='http://www.python.org/dev/peps/pep-3120/#specification'&gt;3120 - Using UTF-8 as the default source encoding&lt;/a&gt;&lt;/li&gt;

&lt;li&gt;&lt;a href='http://www.python.org/dev/peps/pep-3131/'&gt;3131 - Supporting Non-ASCII Identifiers&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id='vim'&gt;Vim&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;:help bomb&lt;/code&gt; - Enabling BOMs&lt;/li&gt;

&lt;li&gt;&lt;code&gt;:help modeline&lt;/code&gt; - Modelines&lt;/li&gt;

&lt;li&gt;&lt;code&gt;:help modelines&lt;/code&gt; - Number of lines to check for a modeline&lt;/li&gt;

&lt;li&gt;&lt;code&gt;:help &amp;#39;modeline&amp;#39;&lt;/code&gt; - Toggle modeline recognition&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id='further_reading'&gt;Further Reading&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href='https://en.wikipedia.org/wiki/Byte_order_mark'&gt;BOM&lt;/a&gt;&lt;/li&gt;

&lt;li&gt;&lt;a href='https://en.wikipedia.org/wiki/UTF-8'&gt;UTF-8&lt;/a&gt;&lt;/li&gt;

&lt;li&gt;&lt;a href='http://en.wikipedia.org/wiki/UTF-8#Byte_order_mark'&gt;BOM &amp;amp; UTF-8&lt;/a&gt;&lt;/li&gt;

&lt;li&gt;&lt;a href='http://en.wikipedia.org/wiki/ASCII#7-bit'&gt;7-bit ASCII&lt;/a&gt;&lt;/li&gt;

&lt;li&gt;&lt;a href='http://vim.wikia.com/wiki/Modeline_magic'&gt;Modeline Magic&lt;/a&gt;&lt;/li&gt;

&lt;li&gt;&lt;a href='http://nedbatchelder.com/text/unipain.html'&gt;Pragmatic Unicode&lt;/a&gt;&lt;/li&gt;

&lt;li&gt;&lt;a href='http://lucumr.pocoo.org/2013/7/2/the-updated-guide-to-unicode/'&gt;The Updated Guide to Unicode on Python&lt;/a&gt;&lt;/li&gt;

&lt;li&gt;&lt;a href='http://farmdev.com/talks/unicode/'&gt;Unicode in Python, Completely Demistified&lt;/a&gt;&lt;/li&gt;

&lt;li&gt;&lt;a href='http://blog.notdot.net/2010/07/Getting-unicode-right-in-Python'&gt;Getting Unicode right in Python - Nick&amp;#8217;s Blog&lt;/a&gt;&lt;/li&gt;

&lt;li&gt;&lt;a href='https://github.com/SublimeText/Modelines'&gt;Sublime Text Modelines plugin does not confirm to the required regex&lt;/a&gt;&lt;/li&gt;

&lt;li&gt;&lt;a href='http://www.joelonsoftware.com/articles/Unicode.html'&gt;The Absolute Minimum Every Software Developer Absolutely, Positively Must Know About Unicode and Character Sets - No Excuses!&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</description>
				<pubDate>Thu, 04 Jul 2013 01:00:00 -0500</pubDate>
				<link>http://pycandy.com/2013-07-04/encoding-specifiers-1</link>
				<guid isPermaLink="true">http://pycandy.com/2013-07-04/encoding-specifiers-1</guid>
			</item>
		
	</channel>
</rss>
